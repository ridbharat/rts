const questions = [
    {
num: 1,
question_en: "Cat : Meow :: Dog : ?",
question_hi: "बिल्ली : म्याऊँ :: कुत्ता : ?",
options_en: ["Bark", "Roar", "Hiss", "Chirp"],
options_hi: ["भौंकना", "गरजना", "फुफकारना", "चहकना"],
answer_en: "Bark",
answer_hi: "भौंकना",
attempted: false,
selected: ""
},

{
num: 2,
question_en: "Pen : Write :: Knife : ?",
question_hi: "कलम : लिखना :: चाकू : ?",
options_en: ["Cut", "Eat", "Sharpen", "Throw"],
options_hi: ["काटना", "खाना", "तेज करना", "फेंकना"],
answer_en: "Cut",
answer_hi: "काटना",
attempted: false,
selected: ""
},

{
num: 3,
question_en: "Doctor : Hospital :: Teacher : ?",
question_hi: "डॉक्टर : अस्पताल :: शिक्षक : ?",
options_en: ["School", "College", "University", "Classroom"],
options_hi: ["स्कूल", "कॉलेज", "विश्वविद्यालय", "कक्षा"],
answer_en: "School",
answer_hi: "स्कूल",
attempted: false,
selected: ""
},

{
num: 4,
question_en: "Ocean : Water :: Desert : ?",
question_hi: "सागर : पानी :: रेगिस्तान : ?",
options_en: ["Sand", "Heat", "Cactus", "Oasis"],
options_hi: ["रेत", "गर्मी", "कैक्टस", "नखलिस्तान"],
answer_en: "Sand",
answer_hi: "रेत",
attempted: false,
selected: ""
},

{
num: 5,
question_en: "Hand : Finger :: Foot : ?",
question_hi: "हाथ : उँगली :: पैर : ?",
options_en: ["Toe", "Ankle", "Sole", "Heel"],
options_hi: ["पैर की उँगली", "टखना", "तलवा", "एड़ी"],
answer_en: "Toe",
answer_hi: "पैर की उँगली",
attempted: false,
selected: ""
},

{
num: 6,
question_en: "Book : Read :: Movie : ?",
question_hi: "किताब : पढ़ना :: फिल्म : ?",
options_en: ["Watch", "Listen", "Direct", "Produce"],
options_hi: ["देखना", "सुनना", "निर्देशित करना", "निर्माण करना"],
answer_en: "Watch",
answer_hi: "देखना",
attempted: false,
selected: ""
},

{
num: 7,
question_en: "Bird : Nest :: Bee : ?",
question_hi: "पक्षी : घोंसला :: मधुमक्खी : ?",
options_en: ["Hive", "Honey", "Flower", "Sting"],
options_hi: ["छत्ता", "शहद", "फूल", "डंक"],
answer_en: "Hive",
answer_hi: "छत्ता",
attempted: false,
selected: ""
},

{
num: 8,
question_en: "Fish : Aquarium :: Lion : ?",
question_hi: "मछली : मछलीघर :: शेर : ?",
options_en: ["Jungle", "Zoo", "Cave", "Savanna"],
options_hi: ["जंगल", "चिड़ियाघर", "गुफा", "सवाना"],
answer_en: "Zoo",
answer_hi: "चिड़ियाघर",
attempted: false,
selected: ""
},

{
num: 9,
question_en: "Clock : Time :: Thermometer : ?",
question_hi: "घड़ी : समय :: थर्मामीटर : ?",
options_en: ["Temperature", "Pressure", "Humidity", "Heat"],
options_hi: ["तापमान", "दबाव", "नमी", "ऊष्मा"],
answer_en: "Temperature",
answer_hi: "तापमान",
attempted: false,
selected: ""
},

{
num: 10,
question_en: "Pen : Ink :: Pencil : ?",
question_hi: "कलम : स्याही :: पेंसिल : ?",
options_en: ["Lead", "Wood", "Eraser", "Sharpener"],
options_hi: ["लीड", "लकड़ी", "रबड़", "शार्पनर"],
answer_en: "Lead",
answer_hi: "लीड",
attempted: false,
selected: ""
},

{
num: 11,
question_en: "Circle : Round :: Square : ?",
question_hi: "वृत्त : गोल :: वर्ग : ?",
options_en: ["Four-sided", "Triangular", "Rectangular", "Curved"],
options_hi: ["चतुर्भुज", "त्रिकोणीय", "आयताकार", "वक्र"],
answer_en: "Four-sided",
answer_hi: "चतुर्भुज",
attempted: false,
selected: ""
},

{
num: 12,
question_en: "Sun : Day :: Moon : ?",
question_hi: "सूर्य : दिन :: चंद्रमा : ?",
options_en: ["Night", "Month", "Star", "Sky"],
options_hi: ["रात", "महीना", "तारा", "आकाश"],
answer_en: "Night",
answer_hi: "रात",
attempted: false,
selected: ""
},

{
num: 13,
question_en: "Author : Book :: Poet : ?",
question_hi: "लेखक : किताब :: कवि : ?",
options_en: ["Poem", "Story", "Novel", "Play"],
options_hi: ["कविता", "कहानी", "उपन्यास", "नाटक"],
answer_en: "Poem",
answer_hi: "कविता",
attempted: false,
selected: ""
},

{
num: 14,
question_en: "Doctor : Stethoscope :: Carpenter : ?",
question_hi: "डॉक्टर : स्टेथोस्कोप :: बढ़ई : ?",
options_en: ["Hammer", "Saw", "Chisel", "All of these"],
options_hi: ["हथौड़ा", "आरी", "छेनी", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
},

{
num: 15,
question_en: "Car : Garage :: Aeroplane : ?",
question_hi: "कार : गैराज :: हवाई जहाज : ?",
options_en: ["Hangar", "Airport", "Runway", "Terminal"],
options_hi: ["हैंगर", "हवाई अड्डा", "रनवे", "टर्मिनल"],
answer_en: "Hangar",
answer_hi: "हैंगर",
attempted: false,
selected: ""
},

{
num: 16,
question_en: "India : Rupee :: USA : ?",
question_hi: "भारत : रुपया :: USA : ?",
options_en: ["Dollar", "Euro", "Pound", "Yen"],
options_hi: ["डॉलर", "यूरो", "पाउंड", "येन"],
answer_en: "Dollar",
answer_hi: "डॉलर",
attempted: false,
selected: ""
},

{
num: 17,
question_en: "Water : Thirst :: Food : ?",
question_hi: "पानी : प्यास :: भोजन : ?",
options_en: ["Hunger", "Taste", "Energy", "Health"],
options_hi: ["भूख", "स्वाद", "ऊर्जा", "स्वास्थ्य"],
answer_en: "Hunger",
answer_hi: "भूख",
attempted: false,
selected: ""
},

{
num: 18,
question_en: "Engine : Car :: Heart : ?",
question_hi: "इंजन : कार :: दिल : ?",
options_en: ["Body", "Blood", "Circulation", "Life"],
options_hi: ["शरीर", "रक्त", "परिसंचरण", "जीवन"],
answer_en: "Body",
answer_hi: "शरीर",
attempted: false,
selected: ""
},

{
num: 19,
question_en: "Keyboard : Type :: Mouse : ?",
question_hi: "कीबोर्ड : टाइप करना :: माउस : ?",
options_en: ["Click", "Scroll", "Point", "All of these"],
options_hi: ["क्लिक करना", "स्क्रॉल करना", "इशारा करना", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
},

{
num: 20,
question_en: "Light : Bulb :: Sound : ?",
question_hi: "प्रकाश : बल्ब :: ध्वनि : ?",
options_en: ["Speaker", "Ear", "Music", "Noise"],
options_hi: ["स्पीकर", "कान", "संगीत", "शोर"],
answer_en: "Speaker",
answer_hi: "स्पीकर",
attempted: false,
selected: ""
},

{
num: 21,
question_en: "Student : School :: Patient : ?",
question_hi: "छात्र : स्कूल :: मरीज : ?",
options_en: ["Hospital", "Doctor", "Medicine", "Ward"],
options_hi: ["अस्पताल", "डॉक्टर", "दवा", "वार्ड"],
answer_en: "Hospital",
answer_hi: "अस्पताल",
attempted: false,
selected: ""
},

{
num: 22,
question_en: "Shoe : Foot :: Glove : ?",
question_hi: "जूता : पैर :: दस्ताना : ?",
options_en: ["Hand", "Finger", "Arm", "Wrist"],
options_hi: ["हाथ", "उँगली", "बाँह", "कलाई"],
answer_en: "Hand",
answer_hi: "हाथ",
attempted: false,
selected: ""
},

{
num: 23,
question_en: "Tree : Forest :: Star : ?",
question_hi: "पेड़ : जंगल :: तारा : ?",
options_en: ["Galaxy", "Sky", "Universe", "Constellation"],
options_hi: ["आकाशगंगा", "आकाश", "ब्रह्मांड", "तारामंडल"],
answer_en: "Galaxy",
answer_hi: "आकाशगंगा",
attempted: false,
selected: ""
},

{
num: 24,
question_en: "Bread : Baker :: Furniture : ?",
question_hi: "ब्रेड : बेकर :: फर्नीचर : ?",
options_en: ["Carpenter", "Blacksmith", "Potter", "Tailor"],
options_hi: ["बढ़ई", "लोहार", "कुम्हार", "दर्जी"],
answer_en: "Carpenter",
answer_hi: "बढ़ई",
attempted: false,
selected: ""
},

{
num: 25,
question_en: "River : Bridge :: Road : ?",
question_hi: "नदी : पुल :: सड़क : ?",
options_en: ["Tunnel", "Vehicle", "Crossing", "Flyover"],
options_hi: ["सुरंग", "वाहन", "क्रॉसिंग", "फ्लाईओवर"],
answer_en: "Tunnel",
answer_hi: "सुरंग",
attempted: false,
selected: ""
},

{
num: 26,
question_en: "Pen : Nib :: Sword : ?",
question_hi: "कलम : निब :: तलवार : ?",
options_en: ["Blade", "Hilt", "Sheath", "Handle"],
options_hi: ["ब्लेड", "मूठ", "म्यान", "हत्था"],
answer_en: "Blade",
answer_hi: "ब्लेड",
attempted: false,
selected: ""
},

{
num: 27,
question_en: "Oil : Lamp :: Electricity : ?",
question_hi: "तेल : दीया :: बिजली : ?",
options_en: ["Bulb", "Wire", "Switch", "Generator"],
options_hi: ["बल्ब", "तार", "स्विच", "जनरेटर"],
answer_en: "Bulb",
answer_hi: "बल्ब",
attempted: false,
selected: ""
},

{
num: 28,
question_en: "Food : Hunger :: Water : ?",
question_hi: "भोजन : भूख :: पानी : ?",
options_en: ["Thirst", "Ocean", "River", "Drink"],
options_hi: ["प्यास", "सागर", "नदी", "पीना"],
answer_en: "Thirst",
answer_hi: "प्यास",
attempted: false,
selected: ""
},

{
num: 29,
question_en: "Eyes : See :: Ears : ?",
question_hi: "आँखें : देखना :: कान : ?",
options_en: ["Hear", "Smell", "Taste", "Touch"],
options_hi: ["सुनना", "सूँघना", "चखना", "छूना"],
answer_en: "Hear",
answer_hi: "सुनना",
attempted: false,
selected: ""
},

{
num: 30,
question_en: "Fish : Gills :: Human : ?",
question_hi: "मछली : गलफड़े :: मानव : ?",
options_en: ["Lungs", "Nose", "Skin", "Heart"],
options_hi: ["फेफड़े", "नाक", "त्वचा", "दिल"],
answer_en: "Lungs",
answer_hi: "फेफड़े",
attempted: false,
selected: ""
},

{
num: 31,
question_en: "Cobbler : Shoes :: Potter : ?",
question_hi: "मोची : जूते :: कुम्हार : ?",
options_en: ["Pottery", "Clay", "Wheel", "Vessels"],
options_hi: ["मिट्टी के बर्तन", "मिट्टी", "चाक", "बर्तन"],
answer_en: "Pottery",
answer_hi: "मिट्टी के बर्तन",
attempted: false,
selected: ""
},

{
num: 32,
question_en: "Minute : Hour :: Second : ?",
question_hi: "मिनट : घंटा :: सेकंड : ?",
options_en: ["Minute", "Day", "Week", "Month"],
options_hi: ["मिनट", "दिन", "सप्ताह", "महीना"],
answer_en: "Minute",
answer_hi: "मिनट",
attempted: false,
selected: ""
},

{
num: 33,
question_en: "Circle : Sphere :: Square : ?",
question_hi: "वृत्त : गोला :: वर्ग : ?",
options_en: ["Cube", "Rectangle", "Triangle", "Pyramid"],
options_hi: ["घन", "आयत", "त्रिभुज", "पिरामिड"],
answer_en: "Cube",
answer_hi: "घन",
attempted: false,
selected: ""
},

{
num: 34,
question_en: "Bird : Fly :: Fish : ?",
question_hi: "पक्षी : उड़ना :: मछली : ?",
options_en: ["Swim", "Walk", "Crawl", "Jump"],
options_hi: ["तैरना", "चलना", "रेंगना", "कूदना"],
answer_en: "Swim",
answer_hi: "तैरना",
attempted: false,
selected: ""
},

{
num: 35,
question_en: "Artist : Brush :: Writer : ?",
question_hi: "कलाकार : ब्रश :: लेखक : ?",
options_en: ["Pen", "Paper", "Book", "Idea"],
options_hi: ["कलम", "कागज़", "किताब", "विचार"],
answer_en: "Pen",
answer_hi: "कलम",
attempted: false,
selected: ""
},

{
num: 36,
question_en: "Rain : Umbrella :: Sun : ?",
question_hi: "बारिश : छाता :: सूरज : ?",
options_en: ["Sunglasses", "Hat", "Sunscreen", "All of these"],
options_hi: ["धूप के चश्मे", "टोपी", "सनस्क्रीन", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
},

{
num: 37,
question_en: "Doctor : Disease :: Lawyer : ?",
question_hi: "डॉक्टर : बीमारी :: वकील : ?",
options_en: ["Case", "Court", "Judge", "Client"],
options_hi: ["मुकदमा", "अदालत", "जज", "मुवक्किल"],
answer_en: "Case",
answer_hi: "मुकदमा",
attempted: false,
selected: ""
},

{
num: 38,
question_en: "Milk : Cow :: Honey : ?",
question_hi: "दूध : गाय :: शहद : ?",
options_en: ["Bee", "Flower", "Hive", "Wax"],
options_hi: ["मधुमक्खी", "फूल", "छत्ता", "मोम"],
answer_en: "Bee",
answer_hi: "मधुमक्खी",
attempted: false,
selected: ""
},

{
num: 39,
question_en: "Earth : Gravity :: Magnet : ?",
question_hi: "पृथ्वी : गुरुत्वाकर्षण :: चुंबक : ?",
options_en: ["Attraction", "Repulsion", "Magnetism", "Force"],
options_hi: ["आकर्षण", "प्रतिकर्षण", "चुंबकत्व", "बल"],
answer_en: "Magnetism",
answer_hi: "चुंबकत्व",
attempted: false,
selected: ""
},

{
num: 40,
question_en: "Library : Books :: Museum : ?",
question_hi: "पुस्तकालय : किताबें :: संग्रहालय : ?",
options_en: ["Artifacts", "Paintings", "Historical objects", "All of these"],
options_hi: ["कलाकृतियाँ", "चित्र", "ऐतिहासिक वस्तुएँ", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
},

{
num: 41,
question_en: "Leaf : Tree :: Page : ?",
question_hi: "पत्ता : पेड़ :: पृष्ठ : ?",
options_en: ["Book", "Chapter", "Story", "Library"],
options_hi: ["किताब", "अध्याय", "कहानी", "पुस्तकालय"],
answer_en: "Book",
answer_hi: "किताब",
attempted: false,
selected: ""
},

{
num: 42,
question_en: "Train : Track :: Ship : ?",
question_hi: "ट्रेन : पटरी :: जहाज : ?",
options_en: ["Sea", "Port", "Water", "Anchor"],
options_hi: ["समुद्र", "बंदरगाह", "पानी", "लंगर"],
answer_en: "Water",
answer_hi: "पानी",
attempted: false,
selected: ""
},

{
num: 43,
question_en: "Nose : Smell :: Tongue : ?",
question_hi: "नाक : सूँघना :: जीभ : ?",
options_en: ["Taste", "Speech", "Swallow", "Lick"],
options_hi: ["स्वाद", "बोली", "निगलना", "चाटना"],
answer_en: "Taste",
answer_hi: "स्वाद",
attempted: false,
selected: ""
},

{
num: 44,
question_en: "Fire : Hot :: Ice : ?",
question_hi: "आग : गर्म :: बर्फ : ?",
options_en: ["Cold", "Water", "Melt", "Solid"],
options_hi: ["ठंडा", "पानी", "पिघलना", "ठोस"],
answer_en: "Cold",
answer_hi: "ठंडा",
attempted: false,
selected: ""
},

{
num: 45,
question_en: "Word : Sentence :: Sentence : ?",
question_hi: "शब्द : वाक्य :: वाक्य : ?",
options_en: ["Paragraph", "Chapter", "Book", "Story"],
options_hi: ["पैराग्राफ", "अध्याय", "किताब", "कहानी"],
answer_en: "Paragraph",
answer_hi: "पैराग्राफ",
attempted: false,
selected: ""
},

{
num: 46,
question_en: "Actor : Stage :: Singer : ?",
question_hi: "अभिनेता : मंच :: गायक : ?",
options_en: ["Concert", "Microphone", "Studio", "All of these"],
options_hi: ["कॉन्सर्ट", "माइक्रोफोन", "स्टूडियो", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
},

{
num: 47,
question_en: "Seed : Plant :: Egg : ?",
question_hi: "बीज : पौधा :: अंडा : ?",
options_en: ["Chicken", "Bird", "Life", "Hatch"],
options_hi: ["चूजा", "पक्षी", "जीवन", "अंडे से निकलना"],
answer_en: "Chicken",
answer_hi: "चूजा",
attempted: false,
selected: ""
},

{
num: 48,
question_en: "Country : Capital :: State : ?",
question_hi: "देश : राजधानी :: राज्य : ?",
options_en: ["Capital", "City", "District", "Village"],
options_hi: ["राजधानी", "शहर", "जिला", "गाँव"],
answer_en: "Capital",
answer_hi: "राजधानी",
attempted: false,
selected: ""
},

{
num: 49,
question_en: "Flower : Fragrance :: Perfume : ?",
question_hi: "फूल : सुगंध :: इत्र : ?",
options_en: ["Scent", "Bottle", "Chemical", "Beauty"],
options_hi: ["खुशबू", "बोतल", "रासायनिक", "सुंदरता"],
answer_en: "Scent",
answer_hi: "खुशबू",
attempted: false,
selected: ""
},

{
num: 50,
question_en: "Computer : Software :: Human : ?",
question_hi: "कंप्यूटर : सॉफ्टवेयर :: मानव : ?",
options_en: ["Mind", "Brain", "Thoughts", "All of these"],
options_hi: ["मन", "दिमाग", "विचार", "ये सभी"],
answer_en: "All of these",
answer_hi: "ये सभी",
attempted: false,
selected: ""
}
];


// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60;   // 60 minutes timer
let timerInterval;

// --------------------------- LOAD QUESTION ----------------------------
function loadQuestion(index) {
    const q = questions[index];

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach((option) => {
        const isSelected = q.selected === option;
        const optionDiv = document.createElement("div");

        optionDiv.className = "option-box";
        optionDiv.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        optionDiv.innerHTML = `
            <input type="radio" name="option"
            value="${option}" ${isSelected ? "checked" : ""} /> ${option}
        `;

        optionDiv.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(optionDiv);
    });

    updateNavigation();
}

// --------------------------- MARK ATTEMPT ----------------------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// --------------------------- NEXT / PREV -----------------------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

// --------------------------- LANGUAGE CHANGE -------------------------
function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// --------------------------- TIMER -------------------------------
function startTimer() {
    const timerElement = document.getElementById("timer");
    clearInterval(timerInterval);

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("⏳ Time Over!");
            submitQuiz();
            return;
        }

        const h = Math.floor(timeLeft / 3600);
        const m = Math.floor((timeLeft % 3600) / 60);
        const s = timeLeft % 60;

        timerElement.textContent =
            `Time Left: ${h.toString().padStart(2, "0")}:${m
                .toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;

        timeLeft--;
    }, 1000);
}

// --------------------------- SUBMIT QUIZ ---------------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    clearInterval(timerInterval);

    // Calculate time spent
    const totalTimeSpent = (60 * 60) - timeLeft;
    const mins = Math.floor(totalTimeSpent / 60);
    const secs = totalTimeSpent % 60;

    // Save to localStorage
    localStorage.setItem("timeTaken", `${mins} min ${secs} sec`);

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    // Save result data
    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    // Stop camera stream if active
    if (videoStream) {
        videoStream.getTracks().forEach(track => track.stop());
    }

    // Redirect
    window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
}

// --------------------------- NAVIGATION ------------------------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        const circle = document.createElement("div");
        circle.className = "circle";
        circle.style.background = color;
        circle.textContent = i + 1;
        circle.onclick = () => jumpToQuestion(i);
        nav.appendChild(circle);
    });
}

function jumpToQuestion(i) {
    currentQuestion = i;
    loadQuestion(i);
}

// --------------------------- CAMERA ----------------------
let videoStream;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style.position = "fixed";
    container.style.top = "10px";
    container.style.left = "10px";
    container.style.width = "130px";
    container.style.height = "130px";
    container.style.borderRadius = "50%";
    container.style.overflow = "hidden";
    container.style.background = "#000";
    container.style.border = "3px solid red";
    container.style.zIndex = "9999";
    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsInline = true;
    video.style.width = "100%";
    video.style.height = "100%";
    video.style.objectFit = "cover";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
        })
        .catch(() => alert("Camera not accessible!"));
}

// --------------------------- PAGE LOAD --------------------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};