const questions = [
  {
    "num": 1,
    "question_en": "What is the minimum Charpy V-notch impact energy required for Grade 880 rail steel at -20°C?",
    "question_hi": "-20°C पर ग्रेड 880 रेल स्टील के लिए आवश्यक न्यूनतम चार्पी वी-नॉच इम्पैक्ट एनर्जी क्या है?",
    "options_en": ["15 J", "27 J", "35 J", "45 J"],
    "options_hi": ["15 जे", "27 जे", "35 जे", "45 जे"],
    "answer_en": "27 J",
    "answer_hi": "27 जे",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 2,
    "question_en": "Which mathematical model describes the wheel-rail contact stress distribution?",
    "question_hi": "कौन सा गणितीय मॉडल व्हील-रेल संपर्क तनाव वितरण का वर्णन करता है?",
    "options_en": ["Hertzian contact theory", "Boussinesq theory", "Saint-Venant principle", "Navier-Stokes equations"],
    "options_hi": ["हर्ट्जियन संपर्क सिद्धांत", "बूसिनेस्क सिद्धांत", "सेंट-वेनेंट सिद्धांत", "नेवियर-स्टोक्स समीकरण"],
    "answer_en": "Hertzian contact theory",
    "answer_hi": "हर्ट्जियन संपर्क सिद्धांत",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 3,
    "question_en": "What is the maximum permissible dynamic augment for freight wagons at 100 km/h?",
    "question_hi": "100 किमी/घंटा पर मालगाड़ियों के लिए अधिकतम अनुमेय डायनामिक ऑगमेंट क्या है?",
    "options_en": ["10% of static load", "15% of static load", "20% of static load", "25% of static load"],
    "options_hi": ["स्टैटिक लोड का 10%", "स्टैटिक लोड का 15%", "स्टैटिक लोड का 20%", "स्टैटिक लोड का 25%"],
    "answer_en": "20% of static load",
    "answer_hi": "स्टैटिक लोड का 20%",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 4,
    "question_en": "Which European standard is equivalent to Indian IRS-T-12 for rail welding?",
    "question_hi": "रेल वेल्डिंग के लिए भारतीय IRS-T-12 के समतुल्य कौन सा यूरोपीय मानक है?",
    "options_en": ["EN 14587-1", "EN 14730", "EN 13479", "EN 13674-1"],
    "options_hi": ["EN 14587-1", "EN 14730", "EN 13479", "EN 13674-1"],
    "answer_en": "EN 14587-1",
    "answer_hi": "EN 14587-1",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 5,
    "question_en": "What is the fatigue limit (endurance limit) for Grade 1080 rail steel?",
    "question_hi": "ग्रेड 1080 रेल स्टील के लिए फटीग लिमिट (एनड्योरेंस लिमिट) क्या है?",
    "options_en": ["350 MPa", "450 MPa", "550 MPa", "650 MPa"],
    "options_hi": ["350 एमपीए", "450 एमपीए", "550 एमपीए", "650 एमपीए"],
    "answer_en": "450 MPa",
    "answer_hi": "450 एमपीए",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 6,
    "question_en": "Which type of finite element analysis is used for bogie frame design?",
    "question_hi": "बोगी फ्रेम डिजाइन के लिए किस प्रकार की फाइनाइट एलिमेंट एनालिसिस का उपयोग किया जाता है?",
    "options_en": ["Static stress analysis", "Modal analysis", "Fatigue analysis", "All of the above"],
    "options_hi": ["स्टैटिक स्ट्रेस एनालिसिस", "मोडल एनालिसिस", "फटीग एनालिसिस", "उपरोक्त सभी"],
    "answer_en": "All of the above",
    "answer_hi": "उपरोक्त सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 7,
    "question_en": "What is the critical speed for hunting instability in railway vehicles?",
    "question_hi": "रेलवे वाहनों में हंटिंग अस्थिरता के लिए क्रिटिकल स्पीड क्या है?",
    "options_en": ["Speed where damping becomes zero", "Speed where stiffness becomes zero", "Speed at resonance", "Speed where creep forces peak"],
    "options_hi": ["वह गति जहां डैम्पिंग शून्य हो जाती है", "वह गति जहां स्टिफनेस शून्य हो जाती है", "रेजोनेंस पर गति", "वह गति जहां क्रीप फोर्स पीक करते हैं"],
    "answer_en": "Speed where damping becomes zero",
    "answer_hi": "वह गति जहां डैम्पिंग शून्य हो जाती है",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 8,
    "question_en": "Which standard specifies the acceptance criteria for ultrasonic testing of rails?",
    "question_hi": "रेलों के अल्ट्रासोनिक परीक्षण के स्वीकृति मानदंड कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["IS 3658", "ASTM E164", "EN 16729", "IRS-T-37"],
    "options_hi": ["आईएस 3658", "ASTM E164", "EN 16729", "IRS-T-37"],
    "answer_en": "IRS-T-37",
    "answer_hi": "IRS-T-37",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 9,
    "question_en": "What is the minimum yield strength requirement for Grade 1280 heat-treated rails?",
    "question_hi": "ग्रेड 1280 हीट-ट्रीटेड रेल के लिए न्यूनतम यील्ड स्ट्रेंथ आवश्यकता क्या है?",
    "options_en": ["880 MPa", "1080 MPa", "1280 MPa", "1480 MPa"],
    "options_hi": ["880 एमपीए", "1080 एमपीए", "1280 एमपीए", "1480 एमपीए"],
    "answer_en": "880 MPa",
    "answer_hi": "880 एमपीए",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 10,
    "question_en": "Which type of track stiffness is critical for high-speed railway design?",
    "question_hi": "हाई-स्पीड रेलवे डिजाइन के लिए किस प्रकार की ट्रैक स्टिफनेस महत्वपूर्ण है?",
    "options_en": ["Vertical stiffness", "Lateral stiffness", "Longitudinal stiffness", "Torsional stiffness"],
    "options_hi": ["ऊर्ध्वाधर कठोरता", "पार्श्व कठोरता", "अनुदैर्ध्य कठोरता", "टोर्सनल कठोरता"],
    "answer_en": "Vertical stiffness",
    "answer_hi": "ऊर्ध्वाधर कठोरता",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 11,
    "question_en": "What is the maximum permissible carbon equivalent for weldable rail steel?",
    "question_hi": "वेल्डेबल रेल स्टील के लिए अधिकतम अनुमेय कार्बन समतुल्य क्या है?",
    "options_en": ["0.42%", "0.52%", "0.62%", "0.72%"],
    "options_hi": ["0.42%", "0.52%", "0.62%", "0.72%"],
    "answer_en": "0.52%",
    "answer_hi": "0.52%",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 12,
    "question_en": "Which computational method is used for pantograph-catenary interaction analysis?",
    "question_hi": "पैंटोग्राफ-कैटेनरी इंटरैक्शन विश्लेषण के लिए किस कम्प्यूटेशनल विधि का उपयोग किया जाता है?",
    "options_en": ["Multi-body dynamics", "Finite element method", "Computational fluid dynamics", "Discrete element method"],
    "options_hi": ["मल्टी-बॉडी डायनामिक्स", "फाइनाइट एलिमेंट मेथड", "कम्प्यूटेशनल फ्लूइड डायनामिक्स", "डिस्क्रीट एलिमेंट मेथड"],
    "answer_en": "Multi-body dynamics",
    "answer_hi": "मल्टी-बॉडी डायनामिक्स",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 13,
    "question_en": "What is the minimum track modulus required for 300 km/h operation?",
    "question_hi": "300 किमी/घंटा संचालन के लिए आवश्यक न्यूनतम ट्रैक मापांक क्या है?",
    "options_en": ["20 MPa", "30 MPa", "40 MPa", "50 MPa"],
    "options_hi": ["20 एमपीए", "30 एमपीए", "40 एमपीए", "50 एमपीए"],
    "answer_en": "40 MPa",
    "answer_hi": "40 एमपीए",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 14,
    "question_en": "Which non-destructive testing method detects hydrogen flakes in rail steel?",
    "question_hi": "रेल स्टील में हाइड्रोजन फ्लेक्स का पता लगाने के लिए किस नॉन-डिस्ट्रक्टिव टेस्टिंग विधि का उपयोग किया जाता है?",
    "options_en": ["Ultrasonic testing", "Magnetic particle testing", "Eddy current testing", "Acoustic emission"],
    "options_hi": ["अल्ट्रासोनिक टेस्टिंग", "मैग्नेटिक पार्टिकल टेस्टिंग", "एडी करंट टेस्टिंग", "अकौस्टिक एमिशन"],
    "answer_en": "Ultrasonic testing",
    "answer_hi": "अल्ट्रासोनिक टेस्टिंग",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 15,
    "question_en": "What is the maximum permissible track irregularity PSD value for high-speed lines?",
    "question_hi": "हाई-स्पीड लाइनों के लिए अधिकतम अनुमेय ट्रैक अनियमितता PSD मान क्या है?",
    "options_en": ["0.5 mm²/m", "1.0 mm²/m", "1.5 mm²/m", "2.0 mm²/m"],
    "options_hi": ["0.5 मिमी²/मी", "1.0 मिमी²/मी", "1.5 मिमी²/मी", "2.0 मिमी²/मी"],
    "answer_en": "1.0 mm²/m",
    "answer_hi": "1.0 मिमी²/मी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 16,
    "question_en": "Which steel microstructure provides best wear resistance for rails?",
    "question_hi": "रेल के लिए सबसे अच्छी वियर रेजिस्टेंस कौन सी स्टील माइक्रोस्ट्रक्चर प्रदान करती है?",
    "options_en": ["Pearlite", "Bainite", "Martensite", "Austenite"],
    "options_hi": ["पर्लाइट", "बेनाइट", "मार्टेंसाइट", "ऑस्टेनाइट"],
    "answer_en": "Pearlite",
    "answer_hi": "पर्लाइट",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 17,
    "question_en": "What is the minimum required braking distance for 160 km/h trains?",
    "question_hi": "160 किमी/घंटा ट्रेनों के लिए आवश्यक न्यूनतम ब्रेकिंग दूरी क्या है?",
    "options_en": ["800 m", "1000 m", "1200 m", "1400 m"],
    "options_hi": ["800 मी", "1000 मी", "1200 मी", "1400 मी"],
    "answer_en": "1200 m",
    "answer_hi": "1200 मी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 18,
    "question_en": "Which standard specifies the design of railway overhead equipment?",
    "question_hi": "रेलवे ओवरहेड उपकरण के डिजाइन को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["IRS-E-10", "EN 50119", "UIC 794", "IEC 60913"],
    "options_hi": ["IRS-E-10", "EN 50119", "UIC 794", "IEC 60913"],
    "answer_en": "EN 50119",
    "answer_hi": "EN 50119",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 19,
    "question_en": "What is the critical flaw size for rail head checking initiation?",
    "question_hi": "रेल हेड चेकिंग प्रारंभ के लिए क्रिटिकल फ्लॉ साइज क्या है?",
    "options_en": ["0.1 mm", "0.5 mm", "1.0 mm", "2.0 mm"],
    "options_hi": ["0.1 मिमी", "0.5 मिमी", "1.0 मिमी", "2.0 मिमी"],
    "answer_en": "0.5 mm",
    "answer_hi": "0.5 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 20,
    "question_en": "Which fatigue life prediction method is used for railway components?",
    "question_hi": "रेलवे घटकों के लिए किस फटीग लाइफ प्रिडिक्शन विधि का उपयोग किया जाता है?",
    "options_en": ["Miner's rule", "Paris law", "Coffin-Manson", "All of the above"],
    "options_hi": ["माइनर्स रूल", "पेरिस लॉ", "कॉफिन-मैनसन", "उपरोक्त सभी"],
    "answer_en": "All of the above",
    "answer_hi": "उपरोक्त सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 21,
    "question_en": "What is the maximum permissible contact wire stagger for 25 kV AC system?",
    "question_hi": "25 केवी एसी सिस्टम के लिए अधिकतम अनुमेय कॉन्टैक्ट वायर स्टैगर क्या है?",
    "options_en": ["200 mm", "300 mm", "400 mm", "500 mm"],
    "options_hi": ["200 मिमी", "300 मिमी", "400 मिमी", "500 मिमी"],
    "answer_en": "300 mm",
    "answer_hi": "300 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 22,
    "question_en": "Which material property most affects rail rolling contact fatigue?",
    "question_hi": "कौन सा मटेरियल प्रॉपर्टी रेल रोलिंग कॉन्टैक्ट फटीग को सबसे अधिक प्रभावित करता है?",
    "options_en": ["Hardness", "Toughness", "Yield strength", "Fatigue limit"],
    "options_hi": ["हार्डनेस", "टफनेस", "यील्ड स्ट्रेंथ", "फटीग लिमिट"],
    "answer_en": "Hardness",
    "answer_hi": "हार्डनेस",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 23,
    "question_en": "What is the minimum concrete strength for prestressed concrete sleepers?",
    "question_hi": "प्री-स्ट्रेस्ड कंक्रीट स्लीपरों के लिए न्यूनतम कंक्रीट स्ट्रेंथ क्या है?",
    "options_en": ["40 MPa", "50 MPa", "60 MPa", "70 MPa"],
    "options_hi": ["40 एमपीए", "50 एमपीए", "60 एमपीए", "70 एमपीए"],
    "answer_en": "60 MPa",
    "answer_hi": "60 एमपीए",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 24,
    "question_en": "Which vibration frequency range is critical for passenger comfort?",
    "question_hi": "यात्री आराम के लिए कौन सा वाइब्रेशन फ्रिक्वेंसी रेंज महत्वपूर्ण है?",
    "options_en": ["1-10 Hz", "10-100 Hz", "100-1000 Hz", "1-5 kHz"],
    "options_hi": ["1-10 हर्ट्ज", "10-100 हर्ट्ज", "100-1000 हर्ट्ज", "1-5 किलोहर्ट्ज"],
    "answer_en": "1-10 Hz",
    "answer_hi": "1-10 हर्ट्ज",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 25,
    "question_en": "What is the maximum permissible cant gradient for high-speed tracks?",
    "question_hi": "हाई-स्पीड ट्रैक के लिए अधिकतम अनुमेय कैंट ग्रेडिएंट क्या है?",
    "options_en": ["1:400", "1:500", "1:750", "1:1000"],
    "options_hi": ["1:400", "1:500", "1:750", "1:1000"],
    "answer_en": "1:750",
    "answer_hi": "1:750",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 26,
    "question_en": "Which standard specifies the wheel profile for Indian Railways?",
    "question_hi": "भारतीय रेलवे के लिए व्हील प्रोफाइल कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["IRS-R-40", "UIC 510-2", "EN 13715", "AAR S-660"],
    "options_hi": ["IRS-R-40", "UIC 510-2", "EN 13715", "AAR S-660"],
    "answer_en": "IRS-R-40",
    "answer_hi": "IRS-R-40",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 27,
    "question_en": "What is the minimum required adhesion coefficient for acceleration?",
    "question_hi": "त्वरण के लिए आवश्यक न्यूनतम आसंजन गुणांक क्या है?",
    "options_en": ["0.10", "0.20", "0.30", "0.40"],
    "options_hi": ["0.10", "0.20", "0.30", "0.40"],
    "answer_en": "0.20",
    "answer_hi": "0.20",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 28,
    "question_en": "Which finite element type is used for rail stress analysis?",
    "question_hi": "रेल स्ट्रेस एनालिसिस के लिए किस फाइनाइट एलिमेंट प्रकार का उपयोग किया जाता है?",
    "options_en": ["Beam elements", "Solid elements", "Shell elements", "Contact elements"],
    "options_hi": ["बीम एलिमेंट्स", "सॉलिड एलिमेंट्स", "शेल एलिमेंट्स", "कॉन्टैक्ट एलिमेंट्स"],
    "answer_en": "Solid elements",
    "answer_hi": "सॉलिड एलिमेंट्स",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 29,
    "question_en": "What is the maximum temperature for stress-free rail laying?",
    "question_hi": "स्ट्रेस-फ्री रेल लेटिंग के लिए अधिकतम तापमान क्या है?",
    "options_en": ["27°C", "32°C", "37°C", "42°C"],
    "options_hi": ["27°C", "32°C", "37°C", "42°C"],
    "answer_en": "32°C",
    "answer_hi": "32°C",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 30,
    "question_en": "Which crack growth rate equation is used for rail fatigue analysis?",
    "question_hi": "रेल फटीग विश्लेषण के लिए किस क्रैक ग्रोथ रेट समीकरण का उपयोग किया जाता है?",
    "options_en": ["Paris law", "Walker equation", "Forman equation", "All of these"],
    "options_hi": ["पेरिस लॉ", "वॉकर समीकरण", "फॉर्मन समीकरण", "ये सभी"],
    "answer_en": "All of these",
    "answer_hi": "ये सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 31,
    "question_en": "What is the minimum ballast compaction required for high-speed lines?",
    "question_hi": "हाई-स्पीड लाइनों के लिए आवश्यक न्यूनतम बैलास्ट कम्पैक्शन क्या है?",
    "options_en": ["95% Proctor", "97% Proctor", "98% Proctor", "100% Proctor"],
    "options_hi": ["95% प्रोक्टर", "97% प्रोक्टर", "98% प्रोक्टर", "100% प्रोक्टर"],
    "answer_en": "98% Proctor",
    "answer_hi": "98% प्रोक्टर",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 32,
    "question_en": "Which standard specifies the testing of rail fastenings?",
    "question_hi": "रेल फास्टनिंग्स के परीक्षण को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["IRS-T-39", "EN 13146", "ASTM A370", "IS 10329"],
    "options_hi": ["IRS-T-39", "EN 13146", "ASTM A370", "आईएस 10329"],
    "answer_en": "EN 13146",
    "answer_hi": "EN 13146",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 33,
    "question_en": "What is the maximum permissible rail head wear before reprofiling?",
    "question_hi": "रीप्रोफाइलिंग से पहले अधिकतम अनुमेय रेल हेड वियर क्या है?",
    "options_en": ["3 mm", "5 mm", "7 mm", "10 mm"],
    "options_hi": ["3 मिमी", "5 मिमी", "7 मिमी", "10 मिमी"],
    "answer_en": "5 mm",
    "answer_hi": "5 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 34,
    "question_en": "Which material model is used for rail plastic deformation analysis?",
    "question_hi": "रेल प्लास्टिक डिफॉर्मेशन विश्लेषण के लिए किस मटेरियल मॉडल का उपयोग किया जाता है?",
    "options_en": ["Linear elastic", "Elasto-plastic", "Visco-elastic", "Hyper-elastic"],
    "options_hi": ["लीनियर इलास्टिक", "इलास्टो-प्लास्टिक", "विस्को-इलास्टिक", "हाइपर-इलास्टिक"],
    "answer_en": "Elasto-plastic",
    "answer_hi": "इलास्टो-प्लास्टिक",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 35,
    "question_en": "What is the minimum required wheel-rail friction coefficient for braking?",
    "question_hi": "ब्रेकिंग के लिए आवश्यक न्यूनतम व्हील-रेल घर्षण गुणांक क्या है?",
    "options_en": ["0.10", "0.15", "0.20", "0.25"],
    "options_hi": ["0.10", "0.15", "0.20", "0.25"],
    "answer_en": "0.15",
    "answer_hi": "0.15",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 36,
    "question_en": "Which standard specifies the design of railway vehicle bodies?",
    "question_hi": "रेलवे वाहन निकायों के डिजाइन को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["EN 12663", "IRS-T-40", "UIC 566", "AAR S-204"],
    "options_hi": ["EN 12663", "IRS-T-40", "UIC 566", "AAR S-204"],
    "answer_en": "EN 12663",
    "answer_hi": "EN 12663",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 37,
    "question_en": "What is the maximum permissible track settlement after tamping?",
    "question_hi": "टैम्पिंग के बाद अधिकतम अनुमेय ट्रैक सेटलमेंट क्या है?",
    "options_en": ["2 mm", "5 mm", "10 mm", "15 mm"],
    "options_hi": ["2 मिमी", "5 मिमी", "10 मिमी", "15 मिमी"],
    "answer_en": "5 mm",
    "answer_hi": "5 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 38,
    "question_en": "Which non-linear effect is critical in wheel-rail contact mechanics?",
    "question_hi": "व्हील-रेल संपर्क यांत्रिकी में कौन सा नॉन-लीनियर प्रभाव महत्वपूर्ण है?",
    "options_en": ["Geometric non-linearity", "Material non-linearity", "Contact non-linearity", "All of these"],
    "options_hi": ["ज्यामितीय अरैखिकता", "सामग्री अरैखिकता", "संपर्क अरैखिकता", "ये सभी"],
    "answer_en": "All of these",
    "answer_hi": "ये सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 39,
    "question_en": "What is the minimum required rail web thickness for 60E1 profile?",
    "question_hi": "60E1 प्रोफाइल के लिए आवश्यक न्यूनतम रेल वेब मोटाई क्या है?",
    "options_en": ["16.5 mm", "18.0 mm", "19.5 mm", "21.0 mm"],
    "options_hi": ["16.5 मिमी", "18.0 मिमी", "19.5 मिमी", "21.0 मिमी"],
    "answer_en": "19.5 mm",
    "answer_hi": "19.5 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 40,
    "question_en": "Which standard specifies the testing of railway axles?",
    "question_hi": "रेलवे एक्सल के परीक्षण को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["EN 13103", "IRS-T-38", "AAR M-101", "UIC 515-3"],
    "options_hi": ["EN 13103", "IRS-T-38", "AAR M-101", "UIC 515-3"],
    "answer_en": "EN 13103",
    "answer_hi": "EN 13103",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 41,
    "question_en": "What is the maximum permissible rail head plastic flow?",
    "question_hi": "अधिकतम अनुमेय रेल हेड प्लास्टिक फ्लो क्या है?",
    "options_en": ["1 mm", "2 mm", "3 mm", "4 mm"],
    "options_hi": ["1 मिमी", "2 मिमी", "3 मिमी", "4 मिमी"],
    "answer_en": "2 mm",
    "answer_hi": "2 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 42,
    "question_en": "Which computational fluid dynamics model is used for train aerodynamics?",
    "question_hi": "ट्रेन एरोडायनामिक्स के लिए किस कम्प्यूटेशनल फ्लूइड डायनामिक्स मॉडल का उपयोग किया जाता है?",
    "options_en": ["RANS", "LES", "DES", "All of these"],
    "options_hi": ["RANS", "LES", "DES", "ये सभी"],
    "answer_en": "All of these",
    "answer_hi": "ये सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 43,
    "question_en": "What is the minimum required rail head radius after grinding?",
    "question_hi": "ग्राइंडिंग के बाद आवश्यक न्यूनतम रेल हेड त्रिज्या क्या है?",
    "options_en": ["8 mm", "10 mm", "12 mm", "14 mm"],
    "options_hi": ["8 मिमी", "10 मिमी", "12 मिमी", "14 मिमी"],
    "answer_en": "10 mm",
    "answer_hi": "10 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 44,
    "question_en": "Which standard specifies the design of railway bridges for high-speed?",
    "question_hi": "हाई-स्पीड के लिए रेलवे पुलों के डिजाइन को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["EN 1991-2", "IRS Bridge Code", "UIC 776-1R", "All of these"],
    "options_hi": ["EN 1991-2", "आईआरएस ब्रिज कोड", "UIC 776-1R", "ये सभी"],
    "answer_en": "All of these",
    "answer_hi": "ये सभी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 45,
    "question_en": "What is the maximum permissible wheel polygonization order?",
    "question_hi": "अधिकतम अनुमेय व्हील पॉलीगोनाइजेशन ऑर्डर क्या है?",
    "options_en": ["10th order", "20th order", "30th order", "40th order"],
    "options_hi": ["10वां ऑर्डर", "20वां ऑर्डर", "30वां ऑर्डर", "40वां ऑर्डर"],
    "answer_en": "20th order",
    "answer_hi": "20वां ऑर्डर",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 46,
    "question_en": "Which material testing method determines rail steel cleanliness?",
    "question_hi": "रेल स्टील क्लीनलाइनेस निर्धारित करने के लिए किस मटेरियल टेस्टिंग विधि का उपयोग किया जाता है?",
    "options_en": ["Spectroscopy", "Metallography", "Ultrasonic testing", "Magnetic particle testing"],
    "options_hi": ["स्पेक्ट्रोस्कोपी", "मेटलोग्राफी", "अल्ट्रासोनिक टेस्टिंग", "मैग्नेटिक पार्टिकल टेस्टिंग"],
    "answer_en": "Metallography",
    "answer_hi": "मेटलोग्राफी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 47,
    "question_en": "What is the minimum required rail web height for 60 kg/m rail?",
    "question_hi": "60 किग्रा/मीटर रेल के लिए आवश्यक न्यूनतम रेल वेब ऊंचाई क्या है?",
    "options_en": ["140 mm", "150 mm", "160 mm", "170 mm"],
    "options_hi": ["140 मिमी", "150 मिमी", "160 मिमी", "170 मिमी"],
    "answer_en": "150 mm",
    "answer_hi": "150 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 48,
    "question_en": "Which standard specifies the testing of railway wheels?",
    "question_hi": "रेलवे पहियों के परीक्षण को कौन सा मानक निर्दिष्ट करता है?",
    "options_en": ["EN 13979-1", "IRS-T-41", "AAR S-660", "UIC 812-3"],
    "options_hi": ["EN 13979-1", "IRS-T-41", "AAR S-660", "UIC 812-3"],
    "answer_en": "EN 13979-1",
    "answer_hi": "EN 13979-1",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 49,
    "question_en": "What is the maximum permissible rail head running band width?",
    "question_hi": "अधिकतम अनुमेय रेल हेड रनिंग बैंड चौड़ाई क्या है?",
    "options_en": ["30 mm", "40 mm", "50 mm", "60 mm"],
    "options_hi": ["30 मिमी", "40 मिमी", "50 मिमी", "60 मिमी"],
    "answer_en": "50 mm",
    "answer_hi": "50 मिमी",
    "attempted": false,
    "selected": ""
  },
  {
    "num": 50,
    "question_en": "Which international standard is harmonized with Indian railway standards?",
    "question_hi": "कौन सा अंतर्राष्ट्रीय मानक भारतीय रेलवे मानकों के साथ समन्वित है?",
    "options_en": ["UIC standards", "EN standards", "AAR standards", "All of these"],
    "options_hi": ["UIC मानक", "EN मानक", "AAR मानक", "ये सभी"],
    "answer_en": "All of these",
    "answer_hi": "ये सभी",
    "attempted": false,
    "selected": ""
  }
];


// --------------------------- GLOBAL VARS -----------------------------
let currentQuestion = 0;
let language = "en";
let timeLeft = 60 * 60;   // 60 minutes timer
let timerInterval;

// --------------------------- LOAD QUESTION ----------------------------
function loadQuestion(index) {
    const q = questions[index];

    document.getElementById("question").textContent =
        `${q.num}. ${language === "en" ? q.question_en : q.question_hi}`;

    document.getElementById("questionCounter").textContent =
        `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    const options = language === "en" ? q.options_en : q.options_hi;

    options.forEach((option) => {
        const isSelected = q.selected === option;
        const optionDiv = document.createElement("div");

        optionDiv.className = "option-box";
        optionDiv.style = `
            border: 2px solid ${isSelected ? "#007bff" : "#ccc"};
            background-color: ${isSelected ? "#e7f1ff" : "white"};
            padding: 10px;
            border-radius: 8px;
            margin: 6px 0;
            cursor: pointer;
        `;

        optionDiv.innerHTML = `
            <input type="radio" name="option"
            value="${option}" ${isSelected ? "checked" : ""} /> ${option}
        `;

        optionDiv.addEventListener("click", () => {
            markAttempted(index, option);
            loadQuestion(index);
        });

        optionsElement.appendChild(optionDiv);
    });

    updateNavigation();
}

// --------------------------- MARK ATTEMPT ----------------------------
function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateNavigation();
}

// --------------------------- NEXT / PREV -----------------------------
function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

// --------------------------- LANGUAGE CHANGE -------------------------
function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

// --------------------------- TIMER -------------------------------
function startTimer() {
    const timerElement = document.getElementById("timer");
    clearInterval(timerInterval);

    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("⏳ Time Over!");
            submitQuiz();
            return;
        }

        const h = Math.floor(timeLeft / 3600);
        const m = Math.floor((timeLeft % 3600) / 60);
        const s = timeLeft % 60;

        timerElement.textContent =
            `Time Left: ${h.toString().padStart(2, "0")}:${m
                .toString().padStart(2, "0")}:${s.toString().padStart(2, "0")}`;

        timeLeft--;
    }, 1000);
}

// --------------------------- SUBMIT QUIZ ---------------------
function submitQuiz() {
    let confirmation = confirm("Are you sure you want to submit the test?");
    if (!confirmation) return;

    clearInterval(timerInterval);

    // Calculate time spent
    const totalTimeSpent = (60 * 60) - timeLeft;
    const mins = Math.floor(totalTimeSpent / 60);
    const secs = totalTimeSpent % 60;

    // Save to localStorage
    localStorage.setItem("timeTaken", `${mins} min ${secs} sec`);

    let attempted = 0;
    let notAttempted = 0;
    let score = 0;
    const results = [];

    questions.forEach(q => {
        if (q.attempted) {
            attempted++;
            if (q.selected === q.answer_en || q.selected === q.answer_hi) {
                score++;
            }
        } else {
            notAttempted++;
        }

        results.push({
            question: language === "en" ? q.question_en : q.question_hi,
            selected: q.selected || "Not Answered",
            correct: language === "en" ? q.answer_en : q.answer_hi
        });
    });

    // Save result data
    localStorage.setItem("attempted", attempted);
    localStorage.setItem("notAttempted", notAttempted);
    localStorage.setItem("score", score);
    localStorage.setItem("results", JSON.stringify(results));

    // Stop camera stream if active
    if (videoStream) {
        videoStream.getTracks().forEach(track => track.stop());
    }

    // Redirect
    window.location.href = "/RTS/public/Deshbord/category/test/submit-test.html";
}

// --------------------------- NAVIGATION ------------------------------
function updateNavigation() {
    const nav = document.getElementById("circleContainer");
    nav.innerHTML = "";

    questions.forEach((q, i) => {
        let color = "gray";
        if (i === currentQuestion) color = "blue";
        else if (q.attempted) color = "green";

        const circle = document.createElement("div");
        circle.className = "circle";
        circle.style.background = color;
        circle.textContent = i + 1;
        circle.onclick = () => jumpToQuestion(i);
        nav.appendChild(circle);
    });
}

function jumpToQuestion(i) {
    currentQuestion = i;
    loadQuestion(i);
}

// --------------------------- CAMERA ----------------------
let videoStream;

function startCamera() {
    const container = document.createElement("div");
    container.id = "camera-container";
    container.style.position = "fixed";
    container.style.top = "10px";
    container.style.left = "10px";
    container.style.width = "130px";
    container.style.height = "130px";
    container.style.borderRadius = "50%";
    container.style.overflow = "hidden";
    container.style.background = "#000";
    container.style.border = "3px solid red";
    container.style.zIndex = "9999";
    document.body.appendChild(container);

    const video = document.createElement("video");
    video.autoplay = true;
    video.playsInline = true;
    video.style.width = "100%";
    video.style.height = "100%";
    video.style.objectFit = "cover";
    container.appendChild(video);

    navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
            video.srcObject = stream;
            videoStream = stream;
        })
        .catch(() => alert("Camera not accessible!"));
}

// --------------------------- PAGE LOAD --------------------------
window.onload = function () {
    loadQuestion(currentQuestion);
    startTimer();
    startCamera();
};